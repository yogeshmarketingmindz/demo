(function(b,f,g,e){function k(a,d){this.element=a;this.$shiftnav=b(this.element);this.$menu=this.$shiftnav.find("ul.shiftnav-menu");this.settings=b.extend({},p,d);this._defaults=p;this._name="shiftnav";this.touchenabled="ontouchstart"in f||0<navigator.maxTouchPoints||0<navigator.msMaxTouchPoints;f.navigator.pointerEnabled?(this.touchStart="pointerdown",this.touchEnd="pointerup",this.touchMove="pointermove"):f.navigator.msPointerEnabled?(this.touchStart="MSPointerDown",this.touchEnd="MSPointerUp",
this.touchMove="MSPointerMove"):(this.touchStart="touchstart",this.touchEnd="touchend",this.touchMove="touchmove");this.toggleevent="touchend"==this.touchEnd?this.touchEnd+" click":this.touchEnd;this.transitionend="transitionend.shiftnav webkitTransitionEnd.shiftnav msTransitionEnd.shiftnav oTransitionEnd.shiftnav";this.settings.clicktest&&(this.touchEnd="click");this.init()}var p={mouseEvents:!0,retractors:!0,touchOffClose:!0,clicktest:!1,windowstest:!1,debug:!1,swipe_tolerance_x:150,swipe_tolerance_y:30,
swipe_edge_proximity:70,open_current:!1,collapse_accordions:!1,scroll_offset:100,disable_transforms:!1};k.prototype={init:function(){this.$shiftnav.removeClass("shiftnav-nojs");this.$toggles=b('.shiftnav-toggle[data-shiftnav-target="'+this.$shiftnav.data("shiftnav-id")+'"]');this.initializeShiftNav();this.initializeTargets();this.initializeSubmenuToggleMouseEvents();this.initializeRetractors();this.initializeResponsiveToggle();this.initializeSwipeHandler()},initializeShiftNav:function(){var a=b("body"),
d=this;if(!a.hasClass("shiftnav-enabled")){a.addClass("shiftnav-enabled");"on"==shiftnav_data.lock_body&&a.addClass("shiftnav-lock");"on"==shiftnav_data.lock_body_x&&a.addClass("shiftnav-lock-x");"off"!=shiftnav_data.shift_body?""!=shiftnav_data.shift_body_wrapper?b(shiftnav_data.shift_body_wrapper).addClass("shiftnav-wrap"):(a.wrapInner('<div class="shiftnav-wrap"></div>'),b("video[autoplay]").each(function(){b(this).get(0).play()})):a.addClass("shiftnav-disable-shift-body");b("#shiftnav-toggle-main, #wpadminbar, .shiftnav-fixed-left, .shiftnav-fixed-right").appendTo("body");
var c=b(".shiftnav-wrap"),l=b("#shiftnav-toggle-main");if(!l.hasClass("shiftnav-toggle-style-burger_only")&&l.hasClass("shiftnav-togglebar-gap-auto")||l.hasClass("shiftnav-togglebar-gap-on")){var e=l.outerHeight();c.css("padding-top",e);l.addClass("shiftnav-togglebar-gap-on");"off"==shiftnav_data.shift_body&&a.css("padding-top",e)}else b("body").hasClass("admin-bar")&&b("html").addClass("shiftnav-nogap");l=!1;e=navigator.userAgent.toLowerCase();/android/.test(e)&&(l=!0,/android [1-3]/.test(e)?l=!0:
/chrome/.test(e)?l=!1:/firefox/.test(e)&&(l=!1));(!shift_supports("transform")||l||d.settings.disable_transforms)&&a.addClass("shiftnav-no-transforms");if("on"==shiftnav_data.swipe_open){var g=0,h=0,m=0,k=0,n=b(f).width();"off"==shiftnav_data.shift_body&&(c=b("body"));c.on("touchstart",function(a){d.settings.breakpoint&&b(f).width()>d.settings.breakpoint||(g=a.originalEvent.changedTouches[0].pageY,h=a.originalEvent.changedTouches[0].pageX)});if(b("#shiftnav-main").hasClass("shiftnav-left-edge"))c.on("touchmove",
function(a){k=a.originalEvent.changedTouches[0].pageX;h<d.settings.swipe_edge_proximity&&(a.preventDefault(),k-h>d.settings.swipe_tolerance_x&&(m=a.originalEvent.changedTouches[0].pageY,Math.abs(m-g)<d.settings.swipe_tolerance_y&&(d.openShiftNav("swipe right"),a.stopPropagation())))});else c.on("touchmove",function(a){k=a.originalEvent.changedTouches[0].pageX;h>n-d.settings.swipe_edge_proximity&&(a.preventDefault(),h-k>d.settings.swipe_tolerance_x&&(m=a.originalEvent.changedTouches[0].pageY,Math.abs(m-
g)<d.settings.swipe_tolerance_y&&(d.openShiftNav("swipe left"),a.stopPropagation())))})}b(".shiftnav-searchbar-toggle").on(this.toggleevent,function(a){a.stopPropagation();a.preventDefault();a=b(this).next(".shiftnav-searchbar-drop");a.hasClass("shiftnav-searchbar-drop-open")?(a.removeClass("shiftnav-searchbar-drop-open"),b("body").off("click.shiftnav-searchbar-drop")):(a.addClass("shiftnav-searchbar-drop-open"),a.find(".shiftnav-search-input").focus(),setTimeout(function(){b("body").on("click.shiftnav-searchbar-drop",
function(a){b(".shiftnav-searchbar-drop").removeClass("shiftnav-searchbar-drop-open");b("body").off("click.shiftnav-searchbar-drop")})},100))});b(".shiftnav-searchbar-drop").on(this.toggleevent,function(a){a.stopPropagation()});b(".shiftnav-searchbar-drop .shiftnav-search-input").on("blur",function(a){""!=b(this).val()||q||b(this).parents(".shiftnav-searchbar-drop").removeClass("shiftnav-searchbar-drop-open")});var q;b(".shiftnav-searchbar-toggle").on("mousedown",function(a){q=!0});b(".shiftnav-searchbar-toggle").on("mouseup",
function(a){q=!1});b(".shiftnav").css("max-height",f.innerHeight);b(f).shiftsmartresize(function(){b(".shiftnav").css("max-height",f.innerHeight)})}this.$shiftnav.appendTo("body");this.$shiftnav.hasClass("shiftnav-right-edge")?this.edge="right":this.edge="left";this.openclass="shiftnav-open shiftnav-open-"+this.edge;this.$shiftnav.find(".shiftnav-panel-close").on("click",function(){d.closeShiftNav()});this.$shiftnav.find(".shiftnav-submenu-activation").each(function(){var a=b(this).siblings(".shiftnav-target").outerHeight();
b(this).css({height:a,width:a})});d.settings.open_current&&b(".shiftnav .shiftnav-sub-accordion.current-menu-item, .shiftnav .shiftnav-sub-accordion.current-menu-ancestor").addClass("shiftnav-active")},initializeTargets:function(){var a=this;this.$shiftnav.find(".shiftnav-scrollto").removeClass("current-menu-item").removeClass("current-menu-ancestor");this.$shiftnav.on("click",".shiftnav-target",function(d){var c=b(this).data("shiftnav-scrolltarget");if(c){var e=b(c).first();if(0<e.size())return d=
b(this).parent(".menu-item"),d.siblings().removeClass("current-menu-item").removeClass("current-menu-ancestor"),d.addClass("current-menu-item"),d=e.offset().top,d-=a.settings.scroll_offset,b("html,body").animate({scrollTop:d},1E3,"swing",function(){a.closeShiftNav()}),!1;(e=b(this).attr("href"))&&-1==e.indexOf("#")&&(-1==c.indexOf("#")&&(c="#"+c),f.location=e+c,d.preventDefault())}else b(this).is("span")&&(d=b(this).parent(".menu-item"),d.hasClass("shiftnav-active")?a.closeSubmenu(d,"disabledLink",
a):a.openSubmenu(d,"disabledLink",a))})},initializeSubmenuToggleMouseEvents:function(){if(this.settings.mouseEvents&&!this.settings.clicktest&&!this.settings.windowstest){this.settings.debug&&console.log("initializeSubmenuToggleMouseEvents");var a=this;this.$shiftnav.on("mouseup.shift-submenu-toggle",".shiftnav-submenu-activation",function(b){a.handleMouseActivation(b,this,a)})}},disableSubmenuToggleMouseEvents:function(){this.settings.debug&&console.log("disableSubmenuToggleMouseEvents");$shiftnav.off("mouseover.shift-submenu-toggle");
$shiftnav.off("mouseout.shift-submenu-toggle")},initializeRetractors:function(){if(this.settings.retractors){var a=this;this.$shiftnav.on("mouseup.shiftnav",".shiftnav-retract",function(b){a.handleSubmenuRetractorEnd(b,this,a)})}},initializeResponsiveToggle:function(){var a=this;this.$toggles.on("click","a",function(a){a.stopPropagation()});this.$toggles.on("click",function(d){a.toggle(b(this),a,d)})},toggle:function(a,d,c){c.preventDefault();c.stopPropagation();if("click"!=c.originalEvent.type||
!b(this).data("disableToggle"))return d.$shiftnav.hasClass("shiftnav-open-target")?d.closeShiftNav():(a="shiftnav-toggle-main"==b(this).attr("id")?"[Main Toggle Bar]":'"'+b(this).text()+'"',d.openShiftNav("toggle: "+a)),"click"!=c.originalEvent.type&&(b(this).data("disableToggle",!0),setTimeout(function(){b(this).data("disableToggle",!1)},1E3)),!1},initializeSwipeHandler:function(){b("body");var a=0,d=0,c=0,e=0,g=0,k=0,h=this,m=!1,p=b(f).height(),n=this.$shiftnav.find(".shiftnav-inner");n.on("touchstart",
function(b){a=b.originalEvent.changedTouches[0].pageY;d=b.originalEvent.changedTouches[0].pageX});n.on(this.touchMove,function(b){m=!1;p>=n[0].scrollHeight?(m=!0,b.preventDefault()):0===b.currentTarget.scrollTop?(c=b.originalEvent.changedTouches[0].pageY,c>a&&(m=!0,b.preventDefault())):b.currentTarget.scrollHeight===b.currentTarget.scrollTop+b.currentTarget.offsetHeight&&(c=b.originalEvent.changedTouches[0].pageY,c<a&&(m=!0,b.preventDefault()));m||(g=Math.abs(a-b.originalEvent.changedTouches[0].pageY),
k=Math.abs(d-b.originalEvent.changedTouches[0].pageX),g<k&&b.preventDefault())});if("on"==shiftnav_data.swipe_close)if(this.$shiftnav.hasClass("shiftnav-right-edge"))n.on("touchmove",function(b){e=b.originalEvent.changedTouches[0].pageX;e-d>h.settings.swipe_tolerance_x&&Math.abs(c-a)<h.settings.swipe_tolerance_y&&(h.closeShiftNav(),b.preventDefault())});else n.on("touchmove",function(b){e=b.originalEvent.changedTouches[0].pageX;d-e>h.settings.swipe_tolerance_x&&(c=b.originalEvent.changedTouches[0].pageY,
Math.abs(c-a)<h.settings.swipe_tolerance_y&&(h.closeShiftNav(),b.preventDefault()));b.stopPropagation()})},openShiftNav:function(a){var d=this;this.settings.debug&&console.log("openShiftNav "+(a||"?"));b("body").removeClass("shiftnav-open-right shiftnav-open-left").addClass(this.openclass).addClass("shiftnav-transitioning");b(".shiftnav-open-target").removeClass("shiftnav-open-target");this.$shiftnav.addClass("shiftnav-open-target").on(d.transitionend,function(){b("body").removeClass("shiftnav-transitioning");
b(this).off(d.transitionend)});this.disableTouchoffClose();this.initializeTouchoffClose()},closeShiftNav:function(){var a=this;b("body").removeClass(this.openclass).addClass("shiftnav-transitioning");this.$shiftnav.removeClass("shiftnav-open-target").on(a.transitionend,function(){b("body").removeClass("shiftnav-transitioning");b(this).off(a.transitionend)});this.disableTouchoffClose()},initializeTouchoffClose:function(){if(this.settings.touchOffClose){var a=this;b(g).on("click.shiftnav "+this.touchEnd+
".shiftnav",function(b){a.handleTouchoffClose(b,this,a)})}},disableTouchoffClose:function(){b(g).off(".shiftnav")},handleMouseActivation:function(a,d,c){c.settings.debug&&console.log("handleMouseover, add mouseout",a);a=b(d).parent();a.hasClass("shiftnav-active")?c.closeSubmenu(a,"mouseActivate",c):c.openSubmenu(a,"mouseActivate",c)},handleSubmenuRetractorEnd:function(a,d,c){a.preventDefault();a.stopPropagation();a=b(d).parent("ul").parent("li");c.closeSubmenu(a,"handleSubmenuRetractor",c);c.settings.debug&&
console.log("handleSubmenuRetractorEnd "+a.find("> a").text())},handleTouchoffClose:function(a,d,c){b("body").is(".shiftnav-transitioning")||0!==b(a.target).parents().add(b(a.target)).filter(".shiftnav, .shiftnav-toggle, .shiftnav-ignore").size()||(c.settings.debug&&console.log("touchoff close ",a),a.preventDefault(),a.stopPropagation(),c.closeShiftNav(),c.disableTouchoffClose())},scrollPanel:function(a){if("off"==shiftnav_data.scroll_panel)return 0;if("undefined"==typeof a)return this.$shiftnav.find(".shiftnav-inner").scrollTop();
this.$shiftnav.find(".shiftnav-inner").scrollTop(a)},openSubmenu:function(a,b,c){a.hasClass("shiftnav-active")||(a.hasClass("shiftnav-sub-shift")?(a.siblings(".shiftnav-active").removeClass("shiftnav-active"),a.toggleClass("shiftnav-caulk"),c.$shiftnav.addClass("shiftnav-sub-shift-active")):c.settings.collapse_accordions&&a.siblings(".shiftnav-active").removeClass("shiftnav-active"),a.parents("ul").removeClass("shiftnav-sub-active-current"),a.find("> ul").addClass("shiftnav-sub-active").addClass("shiftnav-sub-active-current"),
setTimeout(function(){a.addClass("shiftnav-active");a.trigger("shiftnav-open-submenu");a.removeClass("shiftnav-caulk");setTimeout(function(){var b=c.scrollPanel();a.data("scroll-back",b);b=a.offset().top+b;c.scrollPanel(b)},100)},1))},closeSubmenu:function(a,d,c){this.settings.debug&&console.log("closeSubmenu "+a.find(">a").text()+" ["+d+"]");a.hasClass("menu-item-has-children")&&a.hasClass("shiftnav-active")&&(a.addClass("shiftnav-in-transition"),a.each(function(){var a=b(this),e=a.find("> ul");
e.on(c.transitionend+"_closesubmenu",function(){c.settings.debug&&console.log("finished submenu close transition");a.removeClass("shiftnav-in-transition");e.off(c.transitionend+"_closesubmenu")});c.closeSubmenu(a.find(".shiftnav-active"),d+"_recursive",c)}));a.removeClass("shiftnav-active");if(a.hasClass("shiftnav-sub-shift")){0==a.parents(".shiftnav-sub-shift").size()&&c.$shiftnav.removeClass("shiftnav-sub-shift-active");var e=a.data("scroll-back");"undefined"!==e&&c.scrollPanel(e)}a.find("> ul").removeClass("shiftnav-sub-active").removeClass("shiftnav-sub-active-current");
a.closest("ul").addClass("shiftnav-sub-active-current");a.trigger("shiftnav-close-submenu")},closeAllSubmenus:function(){b(this.element).find("li.menu-item-has-children").removeClass("shiftnav-active")}};b.fn.shiftnav=function(a){var d=arguments;if(a===e||"object"===typeof a)return this.each(function(){b.data(this,"plugin_shiftnav")||b.data(this,"plugin_shiftnav",new k(this,a))});if("string"===typeof a&&"_"!==a[0]&&"init"!==a){var c;this.each(function(){var e=b.data(this,"plugin_shiftnav");e instanceof
k&&"function"===typeof e[a]&&(c=e[a].apply(e,Array.prototype.slice.call(d,1)));"destroy"===a&&b.data(this,"plugin_shiftnav",null)});return c!==e?c:this}}})(jQuery,window,document);
(function(b){function f(e){if(!g){g=!0;"undefined"!=typeof console&&"window.load"==e&&console.log("ShiftNav initialized via "+e);b(".shiftnav-loading").remove();jQuery(".shiftnav").shiftnav({swipe_tolerance_x:parseInt(shiftnav_data.swipe_tolerance_x),swipe_tolerance_y:parseInt(shiftnav_data.swipe_tolerance_y),swipe_edge_proximity:parseInt(shiftnav_data.swipe_edge_proximity),open_current:"on"==shiftnav_data.open_current?!0:!1,collapse_accordions:"on"==shiftnav_data.collapse_accordions?!0:!1,breakpoint:parseInt(shiftnav_data.breakpoint),
touchOffClose:"on"==shiftnav_data.touch_off_close?!0:!1,scroll_offset:shiftnav_data.scroll_offset,disable_transforms:"on"==shiftnav_data.disable_transforms?!0:!1});if("."==window.location.hash.substring(1,2)){e=b(window.location.hash.substring(1));var f=e.offset().top-shiftnav_data.scroll_offset;e.size()&&window.scrollTo(0,f)}window.location.hash&&(e=window.location.hash,"."==e.substring(1,2)&&(e=e.substring(1)),e=b('.shiftnav .shiftnav-target[data-shiftnav-scrolltarget="'+e+'"]').parent(),e.size()&&
(e.siblings().removeClass("current-menu-item").removeClass("current-menu-ancestor"),e.addClass("current-menu-item")));b(".shiftnav").trigger("shiftnav-loaded")}}var g=!1;jQuery(function(b){f("document.ready")});b(window).on("load",function(){f("window.load")})})(jQuery);
(function(b,f){var g=function(b,f,g){var a;return function(){var d=this,c=arguments;a?clearTimeout(a):g&&b.apply(d,c);a=setTimeout(function(){g||b.apply(d,c);a=null},f||100)}};jQuery.fn[f]=function(b){return b?this.bind("resize",g(b)):this.trigger(f)}})(jQuery,"shiftsmartresize");
var shift_supports=function(){var b=document.createElement("div"),f=["Khtml","Ms","O","Moz","Webkit"];return function(g){var e=f.length;if(g in b.style)return!0;for(g=g.replace(/^[a-z]/,function(b){return b.toUpperCase()});e--;)if(f[e]+g in b.style)return!0;return!1}}();
