(function(e,c,a,g){var d="shiftnav",f={mouseEvents:true,retractors:true,touchOffClose:true,clicktest:false,windowstest:false,debug:false,swipe_tolerance_x:150,swipe_tolerance_y:30,swipe_edge_proximity:70,open_current:false,collapse_accordions:false,scroll_offset:100,disable_transforms:false};function b(i,h){this.element=i;this.$shiftnav=e(this.element);this.$menu=this.$shiftnav.find("ul.shiftnav-menu");this.settings=e.extend({},f,h);this._defaults=f;this._name=d;this.touchenabled=("ontouchstart" in c)||(navigator.maxTouchPoints>0)||(navigator.msMaxTouchPoints>0);if(c.navigator.pointerEnabled){this.touchStart="pointerdown";this.touchEnd="pointerup";this.touchMove="pointermove";}else{if(c.navigator.msPointerEnabled){this.touchStart="MSPointerDown";this.touchEnd="MSPointerUp";this.touchMove="MSPointerMove";}else{this.touchStart="touchstart";this.touchEnd="touchend";this.touchMove="touchmove";}}this.toggleevent=this.touchEnd=="touchend"?this.touchEnd+" click":this.touchEnd;this.transitionend="transitionend.shiftnav webkitTransitionEnd.shiftnav msTransitionEnd.shiftnav oTransitionEnd.shiftnav";if(this.settings.clicktest){this.touchEnd="click";}this.init();}b.prototype={init:function(){this.$shiftnav.removeClass("shiftnav-nojs");this.$toggles=e('.shiftnav-toggle[data-shiftnav-target="'+this.$shiftnav.data("shiftnav-id")+'"]');this.initializeShiftNav();this.initializeTargets();this.initializeSubmenuToggleMouseEvents();this.initializeRetractors();this.initializeResponsiveToggle();this.initializeSwipeHandler();},initializeShiftNav:function(){var l=e("body"),o=this;if(!l.hasClass("shiftnav-enabled")){l.addClass("shiftnav-enabled");if(shiftnav_data.lock_body=="on"){l.addClass("shiftnav-lock");}if(shiftnav_data.lock_body_x=="on"){l.addClass("shiftnav-lock-x");}if(shiftnav_data.shift_body!="off"){if(shiftnav_data.shift_body_wrapper!=""){e(shiftnav_data.shift_body_wrapper).addClass("shiftnav-wrap");}else{l.wrapInner('<div class="shiftnav-wrap"></div>');e("video[autoplay]").each(function(){e(this).get(0).play();});}}else{l.addClass("shiftnav-disable-shift-body");}e("#shiftnav-toggle-main, #wpadminbar, .shiftnav-fixed-left, .shiftnav-fixed-right").appendTo("body");var t=e(".shiftnav-wrap");var r=e("#shiftnav-toggle-main");if((!r.hasClass("shiftnav-toggle-style-burger_only")&&r.hasClass("shiftnav-togglebar-gap-auto"))||r.hasClass("shiftnav-togglebar-gap-on")){var s=r.outerHeight();t.css("padding-top",s);r.addClass("shiftnav-togglebar-gap-on");if(shiftnav_data.shift_body=="off"){l.css("padding-top",s);}}else{if(e("body").hasClass("admin-bar")){e("html").addClass("shiftnav-nogap");}}var k=false;var j=navigator.userAgent.toLowerCase();if(/android/.test(j)){k=true;if(/android [1-3]/.test(j)){k=true;}else{if(/chrome/.test(j)){k=false;}else{if(/firefox/.test(j)){k=false;}}}}if(!shift_supports("transform")||k||o.settings.disable_transforms){l.addClass("shiftnav-no-transforms");}if(shiftnav_data.swipe_open=="on"){var m=0,n=0,h=0,i=0,p=e(c).width();if(shiftnav_data.shift_body=="off"){t=e("body");}t.on("touchstart",function(u){if(o.settings.breakpoint&&e(c).width()>o.settings.breakpoint){return;}m=u.originalEvent.changedTouches[0].pageY;n=u.originalEvent.changedTouches[0].pageX;});if(e("#shiftnav-main").hasClass("shiftnav-left-edge")){t.on("touchmove",function(u){i=u.originalEvent.changedTouches[0].pageX;if(n<o.settings.swipe_edge_proximity){u.preventDefault();if(i-n>o.settings.swipe_tolerance_x){h=u.originalEvent.changedTouches[0].pageY;if(Math.abs(h-m)<o.settings.swipe_tolerance_y){o.openShiftNav("swipe right");u.stopPropagation();}}}});}else{t.on("touchmove",function(u){i=u.originalEvent.changedTouches[0].pageX;if(n>(p-o.settings.swipe_edge_proximity)){u.preventDefault();if((n-i>o.settings.swipe_tolerance_x)){h=u.originalEvent.changedTouches[0].pageY;if(Math.abs(h-m)<o.settings.swipe_tolerance_y){o.openShiftNav("swipe left");u.stopPropagation();}}}});}}e(".shiftnav-searchbar-toggle").on(this.toggleevent,function(u){u.stopPropagation();u.preventDefault();var v=e(this).next(".shiftnav-searchbar-drop");if(v.hasClass("shiftnav-searchbar-drop-open")){v.removeClass("shiftnav-searchbar-drop-open");e("body").off("click.shiftnav-searchbar-drop");}else{v.addClass("shiftnav-searchbar-drop-open");v.find(".shiftnav-search-input").focus();setTimeout(function(){e("body").on("click.shiftnav-searchbar-drop",function(w){e(".shiftnav-searchbar-drop").removeClass("shiftnav-searchbar-drop-open");e("body").off("click.shiftnav-searchbar-drop");});},100);}});e(".shiftnav-searchbar-drop").on(this.toggleevent,function(u){u.stopPropagation();});e(".shiftnav-searchbar-drop .shiftnav-search-input").on("blur",function(u){if(e(this).val()==""&&!q){e(this).parents(".shiftnav-searchbar-drop").removeClass("shiftnav-searchbar-drop-open");}});var q;e(".shiftnav-searchbar-toggle").on("mousedown",function(u){q=true;});e(".shiftnav-searchbar-toggle").on("mouseup",function(u){q=false;});e(".shiftnav").css("max-height",c.innerHeight);e(c).shiftsmartresize(function(){e(".shiftnav").css("max-height",c.innerHeight);});}this.$shiftnav.appendTo("body");if(this.$shiftnav.hasClass("shiftnav-right-edge")){this.edge="right";}else{this.edge="left";}this.openclass="shiftnav-open shiftnav-open-"+this.edge;this.$shiftnav.find(".shiftnav-panel-close").on("click",function(){o.closeShiftNav();});this.$shiftnav.find(".shiftnav-submenu-activation").each(function(){var u=e(this).siblings(".shiftnav-target").outerHeight();e(this).css({height:u,width:u});});if(o.settings.open_current){e(".shiftnav .shiftnav-sub-accordion.current-menu-item, .shiftnav .shiftnav-sub-accordion.current-menu-ancestor").addClass("shiftnav-active");}},initializeTargets:function(){var h=this;this.$shiftnav.find(".shiftnav-scrollto").removeClass("current-menu-item").removeClass("current-menu-ancestor");this.$shiftnav.on("click",".shiftnav-target",function(m){var k=e(this).data("shiftnav-scrolltarget");if(k){var i=e(k).first();if(i.size()>0){var n=e(this).parent(".menu-item");n.siblings().removeClass("current-menu-item").removeClass("current-menu-ancestor");n.addClass("current-menu-item");var l=i.offset().top;l=l-h.settings.scroll_offset;e("html,body").animate({scrollTop:l},1000,"swing",function(){h.closeShiftNav();});return false;}else{var j=e(this).attr("href");if(j&&j.indexOf("#")==-1){if(k.indexOf("#")==-1){k="#"+k;}c.location=j+k;m.preventDefault();}}}else{if(e(this).is("span")){var n=e(this).parent(".menu-item");if(n.hasClass("shiftnav-active")){h.closeSubmenu(n,"disabledLink",h);}else{h.openSubmenu(n,"disabledLink",h);}}}});},initializeSubmenuToggleMouseEvents:function(){if(!this.settings.mouseEvents){return;}if(this.settings.clicktest){return;}if(this.settings.windowstest){return;}if(this.settings.debug){console.log("initializeSubmenuToggleMouseEvents");}var h=this;this.$shiftnav.on("mouseup.shift-submenu-toggle",".shiftnav-submenu-activation",function(i){h.handleMouseActivation(i,this,h);});},disableSubmenuToggleMouseEvents:function(){if(this.settings.debug){console.log("disableSubmenuToggleMouseEvents");}$shiftnav.off("mouseover.shift-submenu-toggle");$shiftnav.off("mouseout.shift-submenu-toggle");},initializeRetractors:function(){if(!this.settings.retractors){return;}var h=this;this.$shiftnav.on("mouseup.shiftnav",".shiftnav-retract",function(i){h.handleSubmenuRetractorEnd(i,this,h);});},initializeResponsiveToggle:function(){var h=this;this.$toggles.on("click","a",function(i){i.stopPropagation();});this.$toggles.on("click",function(i){h.toggle(e(this),h,i);});},toggle:function(i,j,k){k.preventDefault();k.stopPropagation();if(k.originalEvent.type=="click"&&e(this).data("disableToggle")){return;}if(j.$shiftnav.hasClass("shiftnav-open-target")){j.closeShiftNav();}else{var h=e(this).attr("id")=="shiftnav-toggle-main"?"[Main Toggle Bar]":'"'+e(this).text()+'"';j.openShiftNav("toggle: "+h);}if(k.originalEvent.type!="click"){e(this).data("disableToggle",true);setTimeout(function(){e(this).data("disableToggle",false);},1000);}return false;},initializeSwipeHandler:function(){var k=e("body"),p=0,r=0,i=0,j=0,o=0,q=0,n=this,l=false,h=e(c).height(),m=this.$shiftnav.find(".shiftnav-inner");m.on("touchstart",function(s){p=s.originalEvent.changedTouches[0].pageY;r=s.originalEvent.changedTouches[0].pageX;});m.on(this.touchMove,function(s){l=false;if(h>=m[0].scrollHeight){l=true;s.preventDefault();}else{if(s.currentTarget.scrollTop===0){i=s.originalEvent.changedTouches[0].pageY;if(i>p){l=true;s.preventDefault();}}else{if(s.currentTarget.scrollHeight===s.currentTarget.scrollTop+s.currentTarget.offsetHeight){i=s.originalEvent.changedTouches[0].pageY;if(i<p){l=true;s.preventDefault();}}}}if(!l){o=Math.abs(p-s.originalEvent.changedTouches[0].pageY);q=Math.abs(r-s.originalEvent.changedTouches[0].pageX);if(o<q){s.preventDefault();}}});if(shiftnav_data.swipe_close=="on"){if(this.$shiftnav.hasClass("shiftnav-right-edge")){m.on("touchmove",function(s){j=s.originalEvent.changedTouches[0].pageX;if(j-r>n.settings.swipe_tolerance_x){if(Math.abs(i-p)<n.settings.swipe_tolerance_y){n.closeShiftNav();s.preventDefault();}}});}else{m.on("touchmove",function(s){j=s.originalEvent.changedTouches[0].pageX;if(r-j>n.settings.swipe_tolerance_x){i=s.originalEvent.changedTouches[0].pageY;if(Math.abs(i-p)<n.settings.swipe_tolerance_y){n.closeShiftNav();s.preventDefault();}}s.stopPropagation();});}}},openShiftNav:function(h){h=h||"?";var i=this;if(this.settings.debug){console.log("openShiftNav "+h);}e("body").removeClass("shiftnav-open-right shiftnav-open-left").addClass(this.openclass).addClass("shiftnav-transitioning");e(".shiftnav-open-target").removeClass("shiftnav-open-target");this.$shiftnav.addClass("shiftnav-open-target").on(i.transitionend,function(){e("body").removeClass("shiftnav-transitioning");e(this).off(i.transitionend);});this.disableTouchoffClose();this.initializeTouchoffClose();},closeShiftNav:function(){var h=this;e("body").removeClass(this.openclass).addClass("shiftnav-transitioning");this.$shiftnav.removeClass("shiftnav-open-target").on(h.transitionend,function(){e("body").removeClass("shiftnav-transitioning");e(this).off(h.transitionend);});this.disableTouchoffClose();},initializeTouchoffClose:function(){if(!this.settings.touchOffClose){return;}var h=this;e(a).on("click.shiftnav "+this.touchEnd+".shiftnav",function(i){h.handleTouchoffClose(i,this,h);});},disableTouchoffClose:function(){e(a).off(".shiftnav");},handleMouseActivation:function(j,i,h){if(h.settings.debug){console.log("handleMouseover, add mouseout",j);}var k=e(i).parent();if(k.hasClass("shiftnav-active")){h.closeSubmenu(k,"mouseActivate",h);}else{h.openSubmenu(k,"mouseActivate",h);}},handleSubmenuRetractorEnd:function(j,h,i){j.preventDefault();j.stopPropagation();var k=e(h).parent("ul").parent("li");i.closeSubmenu(k,"handleSubmenuRetractor",i);if(i.settings.debug){console.log("handleSubmenuRetractorEnd "+k.find("> a").text());}},handleTouchoffClose:function(i,j,h){if(e("body").is(".shiftnav-transitioning")){return;}if(e(i.target).parents().add(e(i.target)).filter(".shiftnav, .shiftnav-toggle, .shiftnav-ignore").size()===0){if(h.settings.debug){console.log("touchoff close ",i);}i.preventDefault();i.stopPropagation();h.closeShiftNav();h.disableTouchoffClose();}},scrollPanel:function(h){if(shiftnav_data.scroll_panel=="off"){return 0;}if(typeof h=="undefined"){return this.$shiftnav.find(".shiftnav-inner").scrollTop();}else{this.$shiftnav.find(".shiftnav-inner").scrollTop(h);}},openSubmenu:function(j,h,i){if(!j.hasClass("shiftnav-active")){if(j.hasClass("shiftnav-sub-shift")){j.siblings(".shiftnav-active").removeClass("shiftnav-active");j.toggleClass("shiftnav-caulk");i.$shiftnav.addClass("shiftnav-sub-shift-active");}else{if(i.settings.collapse_accordions){j.siblings(".shiftnav-active").removeClass("shiftnav-active");}}j.parents("ul").removeClass("shiftnav-sub-active-current");j.find("> ul").addClass("shiftnav-sub-active").addClass("shiftnav-sub-active-current");setTimeout(function(){j.addClass("shiftnav-active");j.trigger("shiftnav-open-submenu");j.removeClass("shiftnav-caulk");setTimeout(function(){var l=i.scrollPanel();j.data("scroll-back",l);var k=j.offset().top+l;i.scrollPanel(k);},100);},1);}},closeSubmenu:function(k,h,i){if(this.settings.debug){console.log("closeSubmenu "+k.find(">a").text()+" ["+h+"]");}if(k.hasClass("menu-item-has-children")&&k.hasClass("shiftnav-active")){k.addClass("shiftnav-in-transition");k.each(function(){var l=e(this);var m=l.find("> ul");m.on(i.transitionend+"_closesubmenu",function(){if(i.settings.debug){console.log("finished submenu close transition");}l.removeClass("shiftnav-in-transition");m.off(i.transitionend+"_closesubmenu");});i.closeSubmenu(l.find(".shiftnav-active"),h+"_recursive",i);});}k.removeClass("shiftnav-active");if(k.hasClass("shiftnav-sub-shift")){if(k.parents(".shiftnav-sub-shift").size()==0){i.$shiftnav.removeClass("shiftnav-sub-shift-active");}var j=k.data("scroll-back");if(j!=="undefined"){i.scrollPanel(j);}}k.find("> ul").removeClass("shiftnav-sub-active").removeClass("shiftnav-sub-active-current");k.closest("ul").addClass("shiftnav-sub-active-current");k.trigger("shiftnav-close-submenu");},closeAllSubmenus:function(){e(this.element).find("li.menu-item-has-children").removeClass("shiftnav-active");}};e.fn[d]=function(i){var h=arguments;if(i===g||typeof i==="object"){return this.each(function(){if(!e.data(this,"plugin_"+d)){e.data(this,"plugin_"+d,new b(this,i));}});}else{if(typeof i==="string"&&i[0]!=="_"&&i!=="init"){var j;this.each(function(){var k=e.data(this,"plugin_"+d);if(k instanceof b&&typeof k[i]==="function"){j=k[i].apply(k,Array.prototype.slice.call(h,1));}if(i==="destroy"){e.data(this,"plugin_"+d,null);}});return j!==g?j:this;}}};})(jQuery,window,document);(function(c){var b=false;jQuery(function(d){a("document.ready");});c(window).on("load",function(){a("window.load");});function a(g){if(b){return;}b=true;if((typeof console!="undefined")&&g=="window.load"){console.log("ShiftNav initialized via "+g);}c(".shiftnav-loading").remove();jQuery(".shiftnav").shiftnav({swipe_tolerance_x:parseInt(shiftnav_data.swipe_tolerance_x),swipe_tolerance_y:parseInt(shiftnav_data.swipe_tolerance_y),swipe_edge_proximity:parseInt(shiftnav_data.swipe_edge_proximity),open_current:shiftnav_data.open_current=="on"?true:false,collapse_accordions:shiftnav_data.collapse_accordions=="on"?true:false,breakpoint:parseInt(shiftnav_data.breakpoint),touchOffClose:shiftnav_data.touch_off_close=="on"?true:false,scroll_offset:shiftnav_data.scroll_offset,disable_transforms:shiftnav_data.disable_transforms=="on"?true:false});if(window.location.hash.substring(1,2)=="."){var d=c(window.location.hash.substring(1));var f=d.offset().top-shiftnav_data.scroll_offset;if(d.size()){window.scrollTo(0,f);}}if(window.location.hash){var e=window.location.hash;if(e.substring(1,2)=="."){e=e.substring(1);}var h=c('.shiftnav .shiftnav-target[data-shiftnav-scrolltarget="'+e+'"]').parent();if(h.size()){h.siblings().removeClass("current-menu-item").removeClass("current-menu-ancestor");h.addClass("current-menu-item");}}c(".shiftnav").trigger("shiftnav-loaded");}})(jQuery);(function(c,b){var a=function(g,d,e){var h;return function f(){var k=this,j=arguments;function i(){if(!e){g.apply(k,j);}h=null;}if(h){clearTimeout(h);}else{if(e){g.apply(k,j);}}h=setTimeout(i,d||100);};};jQuery.fn[b]=function(d){return d?this.bind("resize",a(d)):this.trigger(b);};})(jQuery,"shiftsmartresize");var shift_supports=(function(){var b=document.createElement("div"),a="Khtml Ms O Moz Webkit".split(" ");return function(d){var c=a.length;if(d in b.style){return true;}d=d.replace(/^[a-z]/,function(e){return e.toUpperCase();});while(c--){if(a[c]+d in b.style){return true;}}return false;};})();