/*!
 * Readmore.js jQuery plugin
 * Author: @jed_foster
 * Project home: jedfoster.github.io/Readmore.js
 * Licensed under the MIT license
 */
;(function(c){var a="readmore",d={speed:100,maxHeight:200,heightMargin:16,moreLink:'<a href="#">Read More</a>',lessLink:'<a href="#">Close</a>',embedCSS:true,sectionCSS:"display: block; width: 100%;",startOpen:false,expandedClass:"readmore-js-expanded",collapsedClass:"readmore-js-collapsed",beforeToggle:function(){},afterToggle:function(){}},e=false;function b(g,f){this.element=g;this.options=c.extend({},d,f);c(this.element).data("max-height",this.options.maxHeight);c(this.element).data("height-margin",this.options.heightMargin);delete (this.options.maxHeight);if(this.options.embedCSS&&!e){var h=".readmore-js-toggle, .readmore-js-section { "+this.options.sectionCSS+" } .readmore-js-section { overflow: hidden; }";(function(k,i){var j=k.createElement("style");j.type="text/css";if(j.styleSheet){j.styleSheet.cssText=i;}else{j.appendChild(k.createTextNode(i));}k.getElementsByTagName("head")[0].appendChild(j);}(document,h));e=true;}this._defaults=d;this._name=a;this.init();}b.prototype={init:function(){var f=this;c(this.element).each(function(){var j=c(this),i=(j.css("max-height").replace(/[^-\d\.]/g,"")>j.data("max-height"))?j.css("max-height").replace(/[^-\d\.]/g,""):j.data("max-height"),h=j.data("height-margin");if(j.css("max-height")!="none"){j.css("max-height","none");}f.setBoxHeight(j);if(j.outerHeight(true)<=i+h){return true;}else{j.addClass("readmore-js-section "+f.options.collapsedClass).data("collapsedHeight",i);var g=f.options.startOpen?f.options.lessLink:f.options.moreLink;j.after(c(g).on("click",function(k){f.toggleSlider(this,j,k);}).addClass("readmore-js-toggle"));if(!f.options.startOpen){j.css({height:i});}}});c(window).on("resize",function(g){f.resizeBoxes();});},toggleSlider:function(i,j,k){k.preventDefault();var l=this,g=newLink=sectionClass="",h=false,f=c(j).data("collapsedHeight");if(c(j).height()<=f){g=c(j).data("expandedHeight")+"px";newLink="lessLink";h=true;sectionClass=l.options.expandedClass;}else{g=f;newLink="moreLink";sectionClass=l.options.collapsedClass;}l.options.beforeToggle(i,j,h);c(j).animate({height:g},{duration:l.options.speed,complete:function(){l.options.afterToggle(i,j,h);c(i).replaceWith(c(l.options[newLink]).on("click",function(m){l.toggleSlider(this,j,m);}).addClass("readmore-js-toggle"));c(this).removeClass(l.options.collapsedClass+" "+l.options.expandedClass).addClass(sectionClass);}});},setBoxHeight:function(g){var h=g.clone().css({height:"auto",width:g.width(),overflow:"hidden"}).insertAfter(g),f=h.outerHeight(true);h.remove();g.data("expandedHeight",f);},resizeBoxes:function(){var f=this;c(".readmore-js-section").each(function(){var g=c(this);f.setBoxHeight(g);if(g.height()>g.data("expandedHeight")||(g.hasClass(f.options.expandedClass)&&g.height()<g.data("expandedHeight"))){g.css("height",g.data("expandedHeight"));}});},destroy:function(){var f=this;c(this.element).each(function(){var g=c(this);g.removeClass("readmore-js-section "+f.options.collapsedClass+" "+f.options.expandedClass).css({"max-height":"",height:"auto"}).next(".readmore-js-toggle").remove();g.removeData();});}};c.fn[a]=function(g){var f=arguments;if(g===undefined||typeof g==="object"){return this.each(function(){if(c.data(this,"plugin_"+a)){var h=c.data(this,"plugin_"+a);h.destroy.apply(h);}c.data(this,"plugin_"+a,new b(this,g));});}else{if(typeof g==="string"&&g[0]!=="_"&&g!=="init"){return this.each(function(){var h=c.data(this,"plugin_"+a);if(h instanceof b&&typeof h[g]==="function"){h[g].apply(h,Array.prototype.slice.call(f,1));}});}}};})(jQuery);