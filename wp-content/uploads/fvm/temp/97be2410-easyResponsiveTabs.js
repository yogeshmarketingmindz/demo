(function(a){a.fn.extend({easyResponsiveTabs:function(k){var c={type:"default",width:"auto",fit:true,closed:false,activate:function(){}};var k=a.extend(c,k);var b=k,g=b.type,j=b.fit,i=b.width,e="vertical",f="accordion";var d=window.location.hash;var h=!!(window.history&&history.replaceState);a(this).bind("tabactivate",function(l,m){if(typeof k.activate==="function"){k.activate.call(m,l);}});this.each(function(){var p=a(this);var t=p.find("ul.resp-tabs-list");var s=p.attr("id");p.find("ul.resp-tabs-list li").addClass("resp-tab-item");p.css({display:"block",width:i});p.find(".resp-tabs-container > div").addClass("resp-tab-content");r();function r(){if(g==e){p.addClass("resp-vtabs");}if(j==true){p.css({width:"100%",margin:"0px"});}if(g==f){p.addClass("resp-easy-accordion");p.find(".resp-tabs-list").css("display","none");}}var m;p.find(".resp-tab-content").before("<h2 class='resp-accordion' role='tab'><span class='resp-arrow'></span></h2>");var l=0;p.find(".resp-accordion").each(function(){m=a(this);var w=p.find(".resp-tab-item:eq("+l+")");var v=p.find(".resp-accordion:eq("+l+")");v.append(w.html());v.data(w.data());m.attr("aria-controls","tab_item-"+(l));l++;});var q=0,u;p.find(".resp-tab-item").each(function(){$tabItem=a(this);$tabItem.attr("aria-controls","tab_item-"+(q));$tabItem.attr("role","tab");var v=0;p.find(".resp-tab-content").each(function(){u=a(this);u.attr("aria-labelledby","tab_item-"+(v));v++;});q++;});var n=0;if(d!=""){var o=d.match(new RegExp(s+"([0-9]+)"));if(o!==null&&o.length===2){n=parseInt(o[1],10)-1;if(n>q){n=0;}}}a(p.find(".resp-tab-item")[n]).addClass("resp-tab-active");if(k.closed!==true&&!(k.closed==="accordion"&&!t.is(":visible"))&&!(k.closed==="tabs"&&t.is(":visible"))){a(p.find(".resp-accordion")[n]).addClass("resp-tab-active");a(p.find(".resp-tab-content")[n]).addClass("resp-tab-content-active").attr("style","display:block");}else{a(p.find(".resp-tab-content")[n]).addClass("resp-tab-content-active resp-accordion-closed");}p.find("[role=tab]").each(function(){var v=a(this);v.click(function(){var A=a(this);var w=A.attr("aria-controls");if(A.hasClass("resp-accordion")&&A.hasClass("resp-tab-active")){p.find(".resp-tab-content-active").slideUp("",function(){a(this).addClass("resp-accordion-closed");});A.removeClass("resp-tab-active");return false;}if(!A.hasClass("resp-tab-active")&&A.hasClass("resp-accordion")){p.find(".resp-tab-active").removeClass("resp-tab-active");p.find(".resp-tab-content-active").slideUp().removeClass("resp-tab-content-active resp-accordion-closed");p.find("[aria-controls="+w+"]").addClass("resp-tab-active");p.find(".resp-tab-content[aria-labelledby = "+w+"]").slideDown().addClass("resp-tab-content-active");}else{p.find(".resp-tab-active").removeClass("resp-tab-active");p.find(".resp-tab-content-active").removeAttr("style").removeClass("resp-tab-content-active").removeClass("resp-accordion-closed");p.find("[aria-controls="+w+"]").addClass("resp-tab-active");p.find(".resp-tab-content[aria-labelledby = "+w+"]").addClass("resp-tab-content-active").attr("style","display:block");}A.trigger("tabactivate",A);if(h){var z=window.location.hash;var y=s+(parseInt(w.substring(9),10)+1).toString();console.log(y);if(z!=""){var x=new RegExp(s+"[0-9]+");if(z.match(x)!=null){y=z.replace(x,y);}else{y=z+"|"+y;}}else{y="#"+y;}history.replaceState(null,null,y);}});});a(window).resize(function(){p.find(".resp-accordion-closed").removeAttr("style");});});}});})(jQuery);